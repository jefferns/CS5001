{"ast":null,"code":"import { useState } from 'react';\n\nconst queryString = require('query-string');\n\nconst URL = 'https://api.spotify.com/v1';\nexport const getAvailableDevices = async token => {\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/get-a-users-available-devices\n  const response = await fetch(URL + '/me/player/devices', {\n    method: 'GET',\n    headers: {\n      'Authorization': 'Bearer ' + token,\n      'Content-Type': 'application/json'\n    }\n  });\n  return response;\n};\nexport const transferPlayback = async (token, device_id) => {\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/transfer-a-users-playback\n  const response = await fetch(URL + '/me/player', {\n    method: 'PUT',\n    body: `{\"device_ids\":[\"${device_id}\"]}`,\n    headers: {\n      'Authorization': 'Bearer ' + token,\n      'Content-Type': 'application/json'\n    }\n  });\n  return response;\n};\nexport const searchSpotify = async function (token, type, query) {\n  let limit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/search\n  const data = {\n    type: type,\n    query: query,\n    limit: limit\n  };\n  const response = await fetch(URL + '/search', {\n    method: 'GET',\n    body: queryString.json(data),\n    headers: {\n      'Authorization': 'Bearer ' + token,\n      'Content-Type': 'application/json'\n    }\n  });\n  return response;\n};\nexport const getTopItems = async function (token, type) {\n  let time_range = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'medium_term';\n  let limit = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5;\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/get-users-top-artists-and-tracks\n  // type === 'artists' | 'tracks'\n  // time_range === 'short_term' | 'medium_term' | 'long_term'\n  const data = {\n    limit: limit,\n    time_range: time_range,\n    type: type\n  };\n  const response = await fetch(URL + '/me/top/' + type, {\n    method: 'GET',\n    body: queryString.json(data),\n    headers: {\n      'Authorization': 'Bearer ' + token,\n      'Content-Type': 'application/json'\n    }\n  });\n  return response;\n};","map":{"version":3,"names":["useState","queryString","require","URL","getAvailableDevices","token","response","fetch","method","headers","transferPlayback","device_id","body","searchSpotify","type","query","limit","data","json","getTopItems","time_range"],"sources":["C:/Users/Nick/Desktop/Fall 2022/CS5001/react-website/src/api.js"],"sourcesContent":["import { useState } from 'react';\r\nconst queryString = require('query-string');\r\n\r\n\r\nconst URL = 'https://api.spotify.com/v1';\r\n\r\nexport const getAvailableDevices = async (token) => {\r\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/get-a-users-available-devices\r\n  const response = await fetch(URL + '/me/player/devices', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Authorization': 'Bearer ' + token,\r\n      'Content-Type': 'application/json',\r\n    }\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const transferPlayback = async (token, device_id) => {\r\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/transfer-a-users-playback\r\n  const response = await fetch(URL + '/me/player', {\r\n    method: 'PUT',\r\n    body: `{\"device_ids\":[\"${device_id}\"]}`,\r\n    headers: {\r\n      'Authorization': 'Bearer ' + token,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  return response;\r\n};\r\n\r\nexport const searchSpotify = async (token, type, query, limit=10) => {\r\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/search\r\n  const data = {\r\n    type: type,\r\n    query: query,\r\n    limit: limit,\r\n  };\r\n  const response = await fetch(URL + '/search', {\r\n    method: 'GET',\r\n    body: queryString.json(data),\r\n    headers: {\r\n      'Authorization': 'Bearer ' + token,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  return response;\r\n}\r\n\r\nexport const getTopItems = async (token, type, time_range='medium_term', limit=5) => {\r\n  //https://developer.spotify.com/documentation/web-api/reference/#/operations/get-users-top-artists-and-tracks\r\n  // type === 'artists' | 'tracks'\r\n  // time_range === 'short_term' | 'medium_term' | 'long_term'\r\n  const data = {\r\n    limit: limit,\r\n    time_range: time_range,\r\n    type: type,\r\n  }\r\n  const response = await fetch(URL + '/me/top/' + type, {\r\n    method: 'GET',\r\n    body: queryString.json(data),\r\n    headers: {\r\n      'Authorization': 'Bearer ' + token,\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n  return response;\r\n}"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AAGA,MAAMC,GAAG,GAAG,4BAAZ;AAEA,OAAO,MAAMC,mBAAmB,GAAG,MAAOC,KAAP,IAAiB;EAClD;EACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,GAAG,oBAAP,EAA6B;IACvDK,MAAM,EAAE,KAD+C;IAEvDC,OAAO,EAAE;MACP,iBAAiB,YAAYJ,KADtB;MAEP,gBAAgB;IAFT;EAF8C,CAA7B,CAA5B;EAOA,OAAOC,QAAP;AACD,CAVM;AAYP,OAAO,MAAMI,gBAAgB,GAAG,OAAOL,KAAP,EAAcM,SAAd,KAA4B;EAC1D;EACA,MAAML,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,GAAG,YAAP,EAAqB;IAC/CK,MAAM,EAAE,KADuC;IAE/CI,IAAI,EAAG,mBAAkBD,SAAU,KAFY;IAG/CF,OAAO,EAAE;MACP,iBAAiB,YAAYJ,KADtB;MAEP,gBAAgB;IAFT;EAHsC,CAArB,CAA5B;EAQA,OAAOC,QAAP;AACD,CAXM;AAaP,OAAO,MAAMO,aAAa,GAAG,gBAAOR,KAAP,EAAcS,IAAd,EAAoBC,KAApB,EAAwC;EAAA,IAAbC,KAAa,uEAAP,EAAO;EACnE;EACA,MAAMC,IAAI,GAAG;IACXH,IAAI,EAAEA,IADK;IAEXC,KAAK,EAAEA,KAFI;IAGXC,KAAK,EAAEA;EAHI,CAAb;EAKA,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,GAAG,SAAP,EAAkB;IAC5CK,MAAM,EAAE,KADoC;IAE5CI,IAAI,EAAEX,WAAW,CAACiB,IAAZ,CAAiBD,IAAjB,CAFsC;IAG5CR,OAAO,EAAE;MACP,iBAAiB,YAAYJ,KADtB;MAEP,gBAAgB;IAFT;EAHmC,CAAlB,CAA5B;EAQA,OAAOC,QAAP;AACD,CAhBM;AAkBP,OAAO,MAAMa,WAAW,GAAG,gBAAOd,KAAP,EAAcS,IAAd,EAA0D;EAAA,IAAtCM,UAAsC,uEAA3B,aAA2B;EAAA,IAAZJ,KAAY,uEAAN,CAAM;EACnF;EACA;EACA;EACA,MAAMC,IAAI,GAAG;IACXD,KAAK,EAAEA,KADI;IAEXI,UAAU,EAAEA,UAFD;IAGXN,IAAI,EAAEA;EAHK,CAAb;EAKA,MAAMR,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,GAAG,UAAN,GAAmBW,IAApB,EAA0B;IACpDN,MAAM,EAAE,KAD4C;IAEpDI,IAAI,EAAEX,WAAW,CAACiB,IAAZ,CAAiBD,IAAjB,CAF8C;IAGpDR,OAAO,EAAE;MACP,iBAAiB,YAAYJ,KADtB;MAEP,gBAAgB;IAFT;EAH2C,CAA1B,CAA5B;EAQA,OAAOC,QAAP;AACD,CAlBM"},"metadata":{},"sourceType":"module"}